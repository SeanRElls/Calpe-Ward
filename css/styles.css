/* Shared design system for Calpe Ward (extracted from index.html) */
:root{
	--grid: #d9d9d9;
	--grid-soft: #ececec;
	--text: #111;
	--muted: #6b6b6b;
	--header: #f4f4f4;
	--sheet-bg: #ffffff;
	--sep: #c0c0c0;
	--sep-fill: #e3e3e3;
	--closed-fill: #f0f0f0;
	--weekend-fill: #fafafa;
	--cn-band: #a8e6a1;
	--sn-band: #9fd0ff;
	--student-band: #c8b6ff;
	--na-band: #ffd18a;
	--bank-holiday: #e9d5ff;
	--accent: #4F8DF7;
	--accent-hover: #2F6FEA;
	--accent-weak: rgba(79,141,247,0.16);
	--accent-weak-hover: rgba(79,141,247,0.24);
	--ink: #0f172a;
	--card: #ffffff;
	--line: #e6e8ee;
	--soft: #f6f7fb;
	--h-week: 28px;
	--h-day: 22px;
	--h-date: 22px;
}

body{
	font-family: "Manrope", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
	margin: 18px;
	color: var(--text);
	background: #f7f7f7;
}

.wrap{
	background: var(--sheet-bg);
	border: 1px solid var(--grid);
	border-radius: 10px;
	box-shadow: 0 2px 10px rgba(0,0,0,0.05);
	padding: 10px;
	overflow: hidden;
}

.rota-scroll{
	width: 100%;
	overflow: auto;
	max-height: calc(100vh - 220px);
	-webkit-overflow-scrolling: touch;
	touch-action: pan-x pan-y;
	position: relative;
	isolation: isolate;
}

.titlebar{
	display:flex;
	align-items: baseline;
	gap: 12px;
	margin: 2px 2px 12px;
}

h1{
	font-size: 22px;
	margin: 0;
	font-weight: 750;
	letter-spacing: 0.2px;
}

.subtitle{
	font-size: 13px;
	color: var(--muted);
}

.header-subrow{
	display:flex;
	flex-wrap:wrap;
	gap: 8px;
	align-items:center;
	flex: 1;
}

#periodLabel{ margin: 0; }
#closeLabel{ margin: 0; }

.rightbits{
	display:flex;
	gap: 10px;
	align-items: center;
	flex-wrap: wrap;
	justify-content: flex-end;
}

.badge{
	font-size: 12px;
	padding: 4px 8px;
	border-radius: 999px;
	background:#eee;
	color:#222;
	white-space: nowrap;
}

.badge.admin{ background:#222; color:#fff; cursor: pointer; user-select: none; }
.badge.admin:hover{ filter: brightness(0.9); }
.badge.admin:active{ transform: scale(0.97); }

button{
	font-size: 12px;
	padding: 4px 10px;
	border-radius: 999px;
	border: 1px solid #ccc;
	background: #f7f7f7;
	cursor: pointer;
	flex: 0 0 auto;
	min-width: 0;
	width: auto;
	line-height: 1;
	height: 28px;
}

button:hover{ background: #e9e9e9; }

#periodSelect{
	padding: 6px 10px;
	border-radius: 999px;
	border: 1px solid #ccc;
	background: #fff;
	font-size: 12px;
	min-width: 220px;
	flex: 0 0 auto;
}

table{
	border-collapse: separate;
	border-spacing: 0;
	width: max-content;
	min-width: 100%;
	font-size: 12px;
}

th, td{
	border-right: 1px solid var(--grid-soft);
	border-bottom: 1px solid var(--grid-soft);
	text-align: center;
	vertical-align: middle;
	padding: 0;
	height: 24px;
	background: #fff;
	min-width: 34px;
}

table tr:first-child th{ border-top: 1px solid var(--grid); }
table tr th:first-child, table tr td:first-child{ border-left: 1px solid var(--grid); }
table tr:last-child td{ border-bottom: 1px solid var(--grid); }
table tr th{ border-bottom: 1px solid var(--grid); }

thead th{
	position: sticky;
	background: var(--header) !important;
	background-clip: padding-box;
	opacity: 1;
	transform: translateZ(0);
	-webkit-transform: translateZ(0);
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
	z-index: 100;
}

thead tr:nth-child(1) th{ height: var(--h-week); top: 0; z-index: 130; background:#ededed !important; }
thead tr:nth-child(2) th{ height: var(--h-day);  top: calc(var(--h-week) - 1px); z-index: 120; }
thead tr:nth-child(3) th{ height: var(--h-date); top: calc(var(--h-week) + var(--h-day) - 2px); z-index: 110; box-shadow: inset 0 -1px 0 var(--grid); }

thead .name-col{ z-index: 200 !important; background: #ededed !important; font-weight: 750; }
tbody td.name-col{ font-weight: 600; background: #fff; position: sticky; left: 0; z-index: 50; }
tbody td{ position: relative; z-index: 1; }

.week-label{ font-weight: 600; }
th.day{ font-weight: 800; height: 22px; color: #222; }
th.date{ font-weight: 700; height: 22px; color: #222; }

.week-sep{
	min-width: 35px;
	width: 35px;
	background: var(--sep-fill) !important;
	border-right: 2px solid var(--sep) !important;
	border-left: 0 !important;
	text-align: center;
	font-size: 12px;
	padding: 0 !important;
}

.closed{ background: var(--closed-fill) !important; color: #9b9b9b; }
.weekend{ /* Removed background for rota.html - weekends should not be grey there */ }

tr.section-row td{
	height: 22px;
	font-weight: 850;
	text-align: left;
	padding: 0 10px;
	border-top: 2px solid #9a9a9a;
	border-bottom: 2px solid #9a9a9a;
}

tr.section-row td span{
	color: #1b1b1b;
	font-size: 11px;
	text-transform: uppercase;
	letter-spacing: 0.6px;
}

td.section-cn { background: var(--cn-band) !important; }
td.section-sn { background: var(--sn-band) !important; }
td.section-students { background: var(--student-band) !important; }
td.section-na { background: var(--na-band) !important; }

td.cell{ font-size: 12px; color: #111; }
td.cell:hover{ background: #f6fbff; }
th.date.bank-holiday { background: var(--bank-holiday) !important; }


.totals-row td{ font-weight: 600; font-size: 11px; background: #f9fafb; border-top: 2px solid #374151; }
.totals-row td.name-col{ text-align: right; padding-right: 12px; }

@media (max-width: 480px){
	body{ margin: 12px; }
	.wrap{ padding: 12px; }
	.titlebar{ flex-direction: column; align-items: flex-start; }
	.rightbits{ justify-content: flex-start; }
}

/* Notification and Notice Cards Styling */
.notifications-section,
.notices-section {
	margin: 12px 0;
}

.notifications-section h3,
.notices-section h3 {
	margin: 0 0 10px 0;
	color: #333;
	font-size: 1.1em;
	font-weight: 600;
}

.notification-card,
.notice-card {
	background: #ffffff;
	border: 1px solid #e0e0e0;
	border-radius: 8px;
	padding: 0;
	margin: 0 0 8px 0;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.notification-card:hover,
.notice-card:hover {
	border-color: #d0d0d0;
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
}

.notification-card summary,
.notice-card summary {
	cursor: pointer;
	padding: 12px 16px;
	font-weight: 600;
	font-size: 0.95em;
	color: #1a1a1a;
	user-select: none;
	display: flex;
	align-items: center;
	justify-content: space-between;
	list-style: none;
}

.notification-card summary::-webkit-details-marker,
.notice-card summary::-webkit-details-marker {
	display: none;
}

.notification-card summary::after,
.notice-card summary::after {
	content: "â–¼";
	font-size: 0.8em;
	color: #666;
	transition: transform 0.2s ease;
	margin-left: 8px;
	flex-shrink: 0;
}

.notification-card[open] summary::after,
.notice-card[open] summary::after {
	transform: rotate(-180deg);
}

.notification-card > div,
.notice-card > div {
	padding: 12px 16px;
	border-top: 1px solid #f0f0f0;
	font-size: 0.9em;
	line-height: 1.5;
	color: #555;
	display: block;
}

.notification-body {
	margin: 0;
	padding: 12px 16px;
	border-top: 1px solid #f0f0f0;
	display: block !important;
}

.notification-body > div:first-child {
	margin-bottom: 12px;
	line-height: 1.6;
	color: #555;
	display: block;
}

.notification-body > div:last-child {
	margin-top: 12px;
}

.notification-actions,
.notice-actions {
	display: flex;
	gap: 8px;
	margin-top: 12px;
	flex-wrap: wrap;
}

.notification-actions button,
.notice-actions button {
	flex: 1;
	min-width: 100px;
	padding: 6px 12px;
	font-size: 0.85em;
	font-weight: 500;
	border: 1px solid #d0d0d0;
	border-radius: 4px;
	background: #f5f5f5;
	color: #1a1a1a;
	cursor: pointer;
	transition: all 0.2s ease;
}

.notification-actions button:hover,
.notice-actions button:hover {
	background: #e8e8e8;
	border-color: #b0b0b0;
}

.notification-actions button.primary,
.notice-actions button.primary {
	background: #4F8DF7;
	color: #ffffff;
	border-color: #4F8DF7;
}

.notification-actions button.primary:hover,
.notice-actions button.primary:hover {
	background: #2F6FEA;
	border-color: #2F6FEA;
}

.notification-actions button.danger,
.notice-actions button.danger {
	background: #fee2e2;
	color: #991b1b;
	border-color: #fecaca;
}

.notification-actions button.danger:hover,
.notice-actions button.danger:hover {
	background: #fecaca;
	border-color: #f87171;
}
